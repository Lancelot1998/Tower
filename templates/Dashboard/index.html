<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="renderer" content="webkit">


    <title>Tower</title>

    <link rel="shortcut icon" href="favicon.ico">
        {% load static %}
    <link href="{% static "css/bootstrap.min.css"%}"  rel="stylesheet">
    <link href="{% static "css/font-awesome.min.css"%}"  rel="stylesheet">
    <link href="{% static "css/animate.min.css"%}"  rel="stylesheet">
    <link href="{% static "css/style.min.css"%}"  rel="stylesheet">

<!-- css file -->


</head>

<body class="fixed-sidebar full-height-layout gray-bg" style="overflow:hidden">
    <div id="wrapper">

         <nav class="navbar-default navbar-static-side" role="navigation">
                    <div class="nav-close"><i class="fa fa-times-circle"></i>
                    </div>
                    <div class="sidebar-collapse">
                        <ul class="nav" id="side-menu">

                            <li class="nav-header">
                                <div class="dropdown profile-element">
                                    <span><img alt="image" class="img-circle" src="/static/img/profile_small.jpg" /></span>
                                    <a data-toggle="dropdown" class="dropdown-toggle" href="#">
                                        <span class="clear">
                                       <span class="block m-t-xs"><strong class="font-bold">{{ user }}</strong></span>
                                        <span class="text-muted text-xs block">超级管理员</span>
                                        </span>
                                    </a>
                                </div>
                            </li>

                            <li>
                                <a href="/task"><i class="fa fa-inbox"></i> <span class="nav-label">任务管理</span><span class="fa arrow"></span></a>
                                <ul class="nav nav-second-level">
                                    <li><a class="J_menuItem" href="/task/add">添加任务</a>
                                    </li>
                                </ul>
                            </li>
                            <li>
                                <a href="/task/namespace"><i class="fa fa-space-shuttle"></i> <span class="nav-label">命名空间管理</span><span class="fa arrow"></span></a>
                            </li>
                            <li>
                                <a href="/image"><i class="fa fa-picture-o"></i> <span class="nav-label">镜像管理-Hound </span><span class="fa arrow"></span></a>
                                <ul class="nav nav-second-level">
                                    <li><a class="J_menuItem" href="#">镜像构建</a>
                                    </li>
                                    <li><a class="J_menuItem" href="/image/label">镜像标签</a>
                                    </li>
                                    <li><a class="J_menuItem" href="">节点信息</a>
                                    </li>
                                </ul>
                            </li>
                        </ul>
                    </div>
            </nav>




        <div id="page-wrapper" class="gray-bg dashbard-1">

            <div class="row border-bottom">
                <nav class="navbar navbar-static-top white-bg" role="navigation" style="margin-bottom: 0">
                    <div class="navbar-header">
                        <a class="navbar-minimalize minimalize-styl-2 btn btn-primary " href="/dashboard"><i class="fa fa-home"></i> </a>
                    </div>

                        <ul class="nav navbar-top-links navbar-right">

                            <li class="dropdown">
                                <a class="count-info" href="#">
                                    <span class="m-r-sm text-muted welcome-message">帮助</span>
                                </a>
                            </li>

                            <li class="dropdown">

                                <a data-toggle="dropdown" class="dropdown-toggle" href="#">
                                    <span class="m-r-sm text-muted welcome-message">
                                        <img alt="image" class="img-circle" width="30" height="30" src="/static/img/a5.jpg"/>
                                        <span style="font-size: 13px;font-weight: 400"> {{ user }}
                                            <b class="caret"></b>
                                        </span>
                                    </span>
                                </a>
                                <!--<ul class="dropdown-menu animated fadeInRight m-t-xs profile-dropdown">-->
                                <ul role="menu" class="dropdown-menu dropdown-menu-right">
                                    <li><a href=""><i class="fa fa-cogs"> </i><span> 个人信息</span></a></li>
                                     <li><a id="switch_user"><i class="fa fa-exchange"></i><span> 用户页面</span></a></li>
                                    <li><a href="/logout"><i class="fa fa-sign-out"></i> 注销登录</a></li>
                                </ul>
                            </li>

                        </ul>
                </nav>
            </div>

            <div class="row J_mainContent"  style="overflow:auto" id="content-main">
               <div class="wrapper wrapper-content">
        <div class="row">

            <div class="col-sm-3">
                <div class="ibox float-e-margins">
                    <div class="ibox-title ">
{#                        <span class="label label-success pull-right">个</span>#}
                        <h5>节点数</h5>
                    </div>
                    <div class="ibox-content">
                        <h1 class="no-margins">{{ k.node_num }}</h1>
{#                        <div class="stat-percent font-bold text-success">98% <i class="fa fa-bolt"></i>#}
{#                        </div>#}
{#                        <small>总收入</small>#}
                    </div>
                </div>
            </div>
            <div class="col-sm-3">
                <div class="ibox float-e-margins">
                    <div class="ibox-title">
                        <span class="label label-info pull-right">已运行</span>
                        <h5>容器数</h5>
                    </div>
                    <div class="ibox-content">
                        <h1 class="no-margins">{{ k.pod_num }}</h1>
{#                        <div class="stat-percent font-bold text-info">20% <i class="fa fa-level-up"></i>#}
{#                        </div>#}
{#                        <small>新订单</small>#}
                    </div>
                </div>
            </div>
            <div class="col-sm-3">
                <div class="ibox float-e-margins">
                    <div class="ibox-title">
                        <span class="label label-primary pull-right">当前</span>
                        <h5>正在运行的任务数</h5>
                    </div>
                    <div class="ibox-content">
                        <h1 class="no-margins">{{ k.job_num }}</h1>
{#                        <div class="stat-percent font-bold text-navy">44% <i class="fa fa-level-up"></i>#}
{#                        </div>#}
{#                        <small>新访客</small>#}
                    </div>
                </div>
            </div>
            <div class="col-sm-3">
                <div class="ibox float-e-margins">
                    <div class="ibox-title">
                        <span class="label label-danger pull-right">当前</span>
                        <h5>命名空间</h5>
                    </div>
                    <div class="ibox-content">
                        <h1 class="no-margins">{{ k.namespace_num }}</h1>
{#                        <div class="stat-percent font-bold text-danger">38% <i class="fa fa-level-down"></i>#}
{#                        </div>#}
{#                        <small>12月</small>#}
                    </div>
                </div>
            </div>
        </div>

        <div class="row">


            <div class="col-sm-12">

                <div class="row">
                    <div class="col-sm-12">
                        <div class="ibox float-e-margins">
                            <div class="ibox-title">
                                <h5>任务列表</h5>
                                <div class="ibox-tools">
                                    <a class="collapse-link">
                                        <i class="fa fa-chevron-up"></i>
                                    </a>
                                    <a class="close-link">
                                        <i class="fa fa-times"></i>
                                    </a>
                                </div>
                            </div>
                            <div class="ibox-content">
                                <table class="table table-hover no-margins">
                                    <thead>
                                        <tr>

                                            <th>命名空间</th>
                                            <th>任务名称</th>
                                            <th>状态</th>
                                            <th>日期</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        {% for job in k.job_list %}
                                        <tr>
                                            <td>{{ job.metadata.namespace }}</td>
                                            <td class="text-navy"> <i class="fa"></i>{{ job.metadata.name }}</td>
                                            {% if job.status.active == 1 and job.status.succeeded == None %}
                                                <td><span class="label label-warning">正在运行</span>
                                                </td>
                                            {% elif job.status.failed == 1 %}
                                                <td><span class="label label-warning">执行失败</span>
                                                </td>
                                            {% elif job.status.succeeded == 1 %}
                                                <td><span class="label label-success">执行成功</span>
                                                </td>
                                            {% endif %}
                                            <td><i class="fa fa-clock-o"></i> {{ job.metadata.creation_timestamp }} </td>
                                        </tr>
                                        {% endfor %}
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-12">
                        <div class="ibox float-e-margins">
                            <div class="ibox-title">
                                <h5>节点列表</h5>
                                <div class="ibox-tools">
                                    <a class="collapse-link">
                                        <i class="fa fa-chevron-up"></i>
                                    </a>
                                    <a class="close-link">
                                        <i class="fa fa-times"></i>
                                    </a>
                                </div>
                            </div>
                            <div class="ibox-content">

                                <div class="row">
                                    <div class="col-sm-12">
                                        <table class="table  margin bottom">
                                            <thead>
                                                <tr>
                                                    <th class="text-left">节点名</th>
                                                    <th>操作系统</th>
                                                    <th class="text-center">内核版本</th>
                                                    <th class="text-center">创建时间</th>
                                                    <th class="text-center">架构</th>
                                                    <th class="text-center">Kubernetes</th>
                                                    <th class="text-center">容器引擎</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                            {% for node in k.node_list %}
                                                <tr>
                                                    <td class="text-left"><span class="label label-inverse">{{ node.metadata.name }}</span></td>
                                                    <td><span class="label label-primary">{{ node.status.node_info.operating_system }}</span></td>
                                                    <td class="text-center"><span class="label label-info">{{ node.status.node_info.kernel_version }}</span></td>
                                                    <td class="text-center small"><i class="fa fa-clock-o"></i> {{ node.metadata.creation_timestamp }}</td>
                                                    <td class="text-center small"><span class="label label-warning-light">{{ node.status.node_info.architecture }}</span></td>
                                                    <td class="text-center small"><span class="label label-success">{{ node.status.node_info.kubelet_version }}</span></td>
                                                    <td class="text-center small">{{ node.status.node_info.container_runtime_version }}</td>


                                                </tr>
                                            {% endfor %}
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                <div class="col-sm-12">
                    <div class="ibox ">
                        <div class="ibox-title">
                            <h5>Profile Detail</h5>
                        </div>
                        <div>
                            <div class="ibox-content no-padding border-left-right center-orientation">
                            </div>
                            <div class="ibox-content profile-content">
                                <h4><strong>{{ user }}</strong></h4>
                                <p>上次登录：<i class="fa fa-clock-o"></i> {{ user.last_login }}</p>
                                <h5>
                                    关于我：
                                </h5>
                                <p>
                                     &nbsp; It's better to burn out than to fade away.
                                </p>
                                <div class="row m-t-lg">
                                    <div class="col-md-4">
                                        <span class="bar">E-mail</span>
                                        <h5><strong></strong>{{ user.email }}</h5>
                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>
            </div>
            </div>
        </div>
    </div>

            </div>
            <div class="footer fixed">
                <div class="pull-right">
                    Version <strong>0.0.1</strong>
                </div>
                <div>
                    <strong>Copyright</strong> Tower &copy; 2019
                </div>
            </div>
        </div>
    </div>




    <script src="{% static "js/jquery.min.js"%}"></script>
    <script src="{% static "js/bootstrap.min.js"%}"></script>
    <script src="{% static "js/plugins/metisMenu/jquery.metisMenu.js"%}"></script>
    <script src="{% static "js/plugins/slimscroll/jquery.slimscroll.min.js" %}"></script>
    <script src="{% static "js/hplus.min.js"%}"></script>

    <script type="text/javascript" src="{% static "js/contabs.min.js"%}"></script>
    <script src="{% static "js/plugins/pace/pace.min.js" %}"></script>


</body>

</html>
